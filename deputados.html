<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Deputados</title>
    <!-- Bootstrap core CSS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.3.0/css/mdb.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/app.css">
  </head>
  <body>
    
<header>
  <div class="collapse bg-dark" id="navbarHeader">
    <div class="container">
      <div class="row ">
        <div class="col-sm-8 col-md-7 py-4">
          <h4 class="text-white">Sobre</h4>
          <p class="text-muted">Add some information about the album below, the author, or any other background context. Make it a few sentences long so folks can pick up some informative tidbits. Then, link them off to some social networking sites or contact information.</p>
        </div>
        <div class="col-sm-4 offset-md-1 py-4">
          <h4 class="text-white">Contato</h4>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white">Email me</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="navbar navbar-dark  bg-dark shadow-sm">
    <div class="container">
      <a href="deputados.html" class="navbar-brand d-flex align-items-center">
        <strong>Deputados</strong>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>
</header>
<div class="container">
	<br>
	<ul class="breadcrumb">
	  <li><a href="index.html">Início</a></li>
	  <li>Deputados</li>
	</ul>
    <br>
    <input class="filter form-control" placeholder="buscar..." />
	<br>
		<div class="container">
			<main>
			</main>
		</div>
</div>
<script>
$(".filter").on("keyup", function() {
  var input = $(this).val().toUpperCase();

  $(".card").each(function() {
    if ($(this).data("string").toUpperCase().indexOf(input) < 0) {
      $(this).hide();
    } else {
      $(this).show();
    }
  })
});
</script> 
<script>
async function redirect(id){
	 const response  = await fetch('https://dadosabertos.camara.leg.br/api/v2/deputados/'+ id)
	 const data = await response.json()
	 console.log(data)
	 window.location.replace("http://stackoverflow.com");
	//document.querySelector('main').innerHTML = output;
 }
</script> 
<script>
	 async function getContent(){
	 	 const response  = await fetch('https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome')
	     const data = await response.json()

		 let output = '<div class="row justify-content-md-center">'
		 for(let i in data.dados){
		 
		 output += 	'<div  id="'+ i +'" class="card  col-lg-2 col-2 shadow-sm " data-string="'+ data.dados[i].nome + data.dados[i].siglaPartido + data.dados[i].siglaUf +'">' +
					'<img class="w-100 hover-shadow" src="'+ data.dados[i].urlFoto +'" alt="Card image cap" style="width: 110%;">' +
						'<div class="alert alert-success">' +
							'<h6 class=" alert-heading">' + data.dados[i].nome + '</h6>' +
							'<p class="fs-6">' + data.dados[i].siglaPartido +' / ' + data.dados[i].siglaUf +'</p>' +
							'<p class="fs-8 text-light bg-dark text-center">' + data.dados[i].email +'</p>' +
							'<a href="detalhes_deputados.html?id='+ data.dados[i].id +'" target="_blank" class="btn btn-secondary btn-lg btn-block">detalhes</a>' +
						'</div>' +
			        '</div>'
		 }
		 output +='</div>'
		document.querySelector('main').innerHTML = output;
	 }
      getContent()
</script>

<footer class="blog-footer">
  <p>Front para API da Câmara dos Deputados</p>
</footer>
      
</body>
</html>
