<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Alcion Souza">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Deputados</title>
    <!-- Bootstrap core JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
	<script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>

	<script src="../components/header.js" type="text/javascript" defer></script>
    <script src="../components/footer.js" type="text/javascript" defer></script>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.3.0/css/mdb.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="../css/style.css">
  </head>
  <body>
    <header-component></header-component>
	<div class="container">
		<br>
		<ul class="breadcrumb">
		  <li><a href="inicio.html">In√≠cio</a></li>
		  <li>Deputados Federais</li>
		</ul>
		<br>
		<input class="filter form-control" placeholder="buscar..." />
		<br>	
			<main>
			</main>	
	</div>
    <footer-component></footer-component>
	
<script>
$(".filter").on("keyup", function() {
  var input = $(this).val().toUpperCase();

  $(".card").each(function() {
    if ($(this).data("string").toUpperCase().indexOf(input) < 0) {
      $(this).hide();
    } else {
      $(this).show();
    }
  })
});
</script> 
<script>
async function getContent(){
 const response  = await fetch('https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome')
 const data = await response.json()

 let output = '<div class="row justify-content-md-center">'
 for(let i in data.dados){
 
 output += 	'<div  id="'+ i +'" style="padding-bottom:15px;" class="card  col-lg-2 col-2 shadow-sm " data-string="'+ data.dados[i].nome + data.dados[i].siglaPartido + data.dados[i].siglaUf +'">' +
            '<span class="badge bg-success">' + data.dados[i].siglaPartido +' / ' + data.dados[i].siglaUf + '</span>' + 
		      	'<img class="w-100 hover-shadow" src="'+ data.dados[i].urlFoto +'" alt="Card image cap" style="width: 110%;">' +
			    	'<div class="">' +
			  		'<b>' + data.dados[i].nome + '</b><br>' +
			  		'<a href="detalhes_deputados.html?id='+ data.dados[i].id +'" target="_blank" class="btn btn-secondary btn-sm btn-block">Detalhes</a>' +
            '<a href="despesas_deputados.html?id='+ data.dados[i].id +'" target="_blank" class="btn btn-secondary btn-sm btn-block">Despesas</a>' +   
			    	'</div>' +
			'</div>'
 }
 output +='</div>'
document.querySelector('main').innerHTML = output;
}
getContent()
</script>

  </body>
<html>